@model TorrentSite.ViewModels.SingleCatalogueViewModel
@*<script src="@Url.Content("~/Scripts/jquery.unobtrusive-ajax.js")" type="text/javascript"></script>*@
@{
    ViewBag.Title = "ChoosenCatalogue";
}

<h2>@Model.Name</h2>

<div>
    @Model.Image
</div>

@for (int i = 0; i < Model.Categories.Count; i++)
{
    <label class="checkbox inline" for="@Model.Categories[i].Id"><input type="checkbox" name="@Model.Categories[i].Name" value="@Model.Categories[i].Name" id="@Model.Categories[i].Id">@Model.Categories[i].Name </label>
}
<input type="submit" value="submit"/>

@using (Ajax.BeginForm("Search", new AjaxOptions
{
    UpdateTargetId = "result",
    InsertionMode = InsertionMode.Replace,
    OnSuccess="clearSeachField"
}))
{
    <input type="text" name="query" id="text-search" />
    <input type="submit" />
    <input type="hidden" name="hiddenName" value="@ViewBag.CatName" />
}


<div id="result">
    @Html.Partial("_TorrentsSearch", Model.Torrents)
</div>
<script>
    function clearSeachField() {
        $("#text-search").val("");
    }
</script>